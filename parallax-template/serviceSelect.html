<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Great Woof Lodge</title>

  <!-- CSS  -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="./css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="./css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great" rel="stylesheet">
  <link rel = 'stylesheet' type="text/css" src = '../node_modules/fullcalendar/dist/fullCalendar.css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.css" />
 <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.css" /> -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
 <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/fullcalendar.min.js"></script>
 
</head>
<body>
  <nav class="white" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="/" class="brand-logo">Great Woof Lodge</a>
      <ul id="dropdown1" class="dropdown-content">

          <li><a href="/food">Home made Dog Food</a></li>
          <li><a href="/pickup">Pick-up/Drop Off</a></li>
          <li><a href="/visit">Drop-in Visit</a></li>
          <li><a href="/onboard">Dog Boarding</a></li>
          <li><a href="/walk">Dog Walking</a></li>

      </ul>
        <div class="nav-wrapper">
            <ul class="right hide-on-med-and-down">
              <!-- Dropdown Trigger -->
              <li><a class="dropdown-trigger" href="#!" data-target="dropdown1">Services<i class="material-icons right">arrow_drop_down</i></a></li>
            </ul>
            <ul class="right hide-on-med-and-down">
              <li class="waves-effect waves-teal"><a href="/request">Contact</a></li>
            </ul>
            <ul class="right hide-on-med-and-down">
              <li class="waves-effect waves-teal"><a href="/gallery">Gallery</a></li>
            </ul>
            <ul class="right hide-on-med-and-down">
              <li class="waves-effect waves-teal"><a href="/">Home</a></li>
            </ul>
                                  <!-- Mobile -->
              <ul id="nav-mobile" class="sidenav">
                  <li class="waves-effect waves-teal"><a href="/">Home</a></li>
                  <li class="waves-effect waves-teal"><a href="/gallery">Gallery</a></li>
                  <li class="waves-effect waves-teal"><a href="/request">Contact</a></li>
                  <li class="waves-effect waves-teal divider"></li>
                  <li class="waves-effect waves-teal"><a href="#"><strong>Services: </strong></a></li>
                  <li class="waves-effect waves-teal"><a href="/food">Home made Dog Food</a></li>

                  <li class="waves-effect waves-teal"><a href="/pickup">Pick-up/Drop Off</a></li>
                  <li class="waves-effect waves-teal"><a href="/visit">Drop-in Visit</a></li>
                  <li class="waves-effect waves-teal"><a href="/onboard">Dog Boarding</a></li>
                  <li class="waves-effect waves-teal"><a href="/walk">Dog Walking</a></li>


                </ul>


                <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            </div>
        </div>
      </nav>
  <!--End Of Nav-->

  <div class = "container">
      <h4>Request a Service</h4>
      <p>Please fill out this form if you're interested in requesting a service. We will reach out to you for further information. </p>
      <div class = "row">
          <div class = "col s12">
              <div class = "form">
                <form>
                    <div class="input-field col s12">
                            <select id = "sservice">
                              <option value="" disabled selected>Choose a service</option>
                              <option value="Homemade Dog Food">Homemade Dog Food</option>
                              <option value="Pickup/Drop off">Pickup/Drop off</option>
                              <option value="Drop-in Visit">Drop-in Visit</option>
                              <option value="Dog Boarding">Dog Boarding</option>
                              <option value="Dog Walking">Dog Walking</option>
                            </select>
                            <label>Service:</label>
                    </div>

                    <div class="row">
                            <div class="input-field col s6">
                              <input  id="phonen" type="text" class="validate">
                              <label for="phonen">Phone #</label>
                            </div>

                            <div class="input-field col s6">
                              <input id="email" type="email" class="validate">
                              <label for="email">Email</label>
                              <span class="helper-text" data-error="wrong" data-success="right">Helper text</span>
                            </div>
                    </div>


                    <div class="row">
                            <form class="col s12">
                              <div class="row">
                                <div class="input-field col s12">
                                  <textarea id="srequests" class="materialize-textarea"></textarea>
                                  <label for="srequests">Special Requests</label>
                                </div>
                              </div>
                            </form>
                    </div>

                    <div class = "row">
                        <h4>
                            Select a date: 
                        </h4>
                        <div id='calendar'></div>
                        <p>Date Selected: <span id = "cdate"></span></p>

                    </div>
                    
                    <div class = "row">
                        <div class="input-field col s12">
                            <select id = "time">
                              <option value="" disabled selected>Choose a Time</option>
                              <option value="10:00AM">10:00AM</option>
                              <option value="11:00AM">11:00AM</option>
                              <option value="12:00PM">12:00PM</option>
                              <option value="1:00PM">1:00PM</option>
                              <option value="2:00PM">2:00PM</option>
                              <option value="3:00PM">3:00PM</option>
                              <option value="4:00PM">4:00PM</option>
                              <option value="5:00PM">5:00PM</option>
                              <option value="6:00PM">6:00PM</option>
                              <option value="7:00PM">7:00PM</option>

                            </select>
                            <label>Time:</label>
                    </div>
                      
                    </div>

                    <div class = "row">
                      <button class="btn waves-effect waves-light" type="submit" id ="submit" name="action">Submit
                        <i class="material-icons right">send</i>
                      </button>
                    </div>

                    
                  </form>
              </div>
          </div>
            
    </div>
  </div>
















<!--Beginning of Footer-->
  <footer class="page-footer teal">
        <div class="container">
          <div class="row">
            <div class="col l4 s12">
              <h5 class="white-text">Contact Info</h5>
              <p class="grey-text text-lighten-4">Reach out to us!</p>
    
    
            </div>
            <div class="col l5 s12">
              <h5 class="white-text"></h5>
              <ul>
                <li><a class="white-text" href="#!">Email: </a></li>
                <li><a class="white-text">Phone #: (908) 409-3422</a></li>
                <li><a class="white-text" href="#!">Address: </a></li>
                <li><a class="white-text" href="#!">Hours: </a></li>
              </ul>
            </div>
            <div class="col l3 s12">
              <h5 class="white-text">Connect</h5>
              <ul>
                <li><a class="white-text" href="https://www.facebook.com/GreatWoofLodge/"><i class="fab fa-facebook-square"></i> Facebook</a></li>
                <li><a class="white-text" href="#!">Link 2</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="footer-copyright">
          <div class="container">
          Made by <a class="yellow-text text-lighten-3" href="https://github.com/DianaC105/GreatWoofLodge">just the best group ever.jpg</a>
          </div>
        </div>
      </footer>
    
    
      <!--  Scripts-->
      <!-- <script src = '../node_modules/jquery/dist/jquery.min.js'></script> -->
      <!-- <script src = '../node_modules/moment/min/moment.min.js'></script> -->
      <!-- <script src = '../node_modules/fullcalendar/dist/fullcalendar.js'></script> -->
      <!-- <script src = '../node_modules/fullcalendar/dist/gcal.js'></script> -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/gcal.js"></script>
      <script src="js/materialize.js"></script>
      <script src="js/init.js"></script>
      <script>
        $(document).ready(function(){
          $(".dropdown-trigger").dropdown(
            {hover: true,
            coverTrigger: false}
          );
          $('select').formSelect();

          //-------CALENDAR START----------

            var selectedDate;
            var formDate;
            
            //var startDate;
            //var endDate;
            $('#calendar').fullCalendar({
                selectable: true,
                weekends: false,
                
                googleCalendarApiKey: process.env.GC_API,
                events: {
                    googleCalendarId: process.env.GC_ID  
                },
                dayClick: function(date){
                  if(date.isBefore(moment())){
                    $('#calendar').fullCalendar('unselect');
                    alert("Invalid date, please select a future date.");
                    $("#cdate").text("Invalid date");
                    return false;
                  }
                    selectedDate = date.format();
                    formDate = moment(selectedDate).format('MMMM Do YYYY');
                    $("#cdate").text(formDate);
                    alert(formDate);
                }
                /*select: function(start, end){
                    startDate = start.format();
                    endDate = end.format();
                    alert("Start date: "+startDate+" - End Date: "+endDate);

                }*/
                

    // put your options and callbacks here
            });

            $("#submit").on('click', (e) => {
              e.preventDefault();
                const service = $("#sservice").val().trim();
                const phone = $("#phonen").val().trim();
                const email = $("#email").val().trim();
                const spreq = $("#srequests").val().trim();
                const date = $("#cdate").text();
                const time = $("#time").val().trim();

                const data = {
                  service,
                  phone,
                  email,
                  spreq,
                  date,
                  time
                };
                $.post('/email ',data, function(){
                  console.log("Server recieved ou data");
                })
                console.log(data);

              
            });


        });
          
        
      </script>
    
      </body>
    </html>